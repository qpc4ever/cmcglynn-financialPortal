@model cmcglynn_financialPortal.Models.CodeFirst.Accounts

@{
    ViewBag.Title = "Index";
}
<link rel="stylesheet" href="~/Assets/vendor/datatables/datatables.min.css" />

<h2 style="text-align:center;">TRANSACTIONS</h2>

<p style="color:#f6a821; font-size:x-large">
    <span class="label label-accent">Balance : $@Model.Balance</span>   
</p>
<table Id="MyTable" class="table table-striped table-hover">
    <thead>
        <tr>
            <th>
                Posted Date
                @*@Html.DisplayNameFor(model => model.PostedDate)*@
            </th>
            <th>
                Transaction Date
                @*@Html.DisplayNameFor(model => model.TransactionDate)*@
            </th>
            <th>
                Account
                @*@Html.DisplayNameFor(model => model.Accounts.Name)*@
            </th>
            <th>
                User
                @*@Html.DisplayNameFor(model => model.Author.FirstName)*@
            </th>
            <th>
                Category
                @*@Html.DisplayNameFor(model => model.Category.Name)*@
            </th>
            <th>
                Type
                @*@Html.DisplayNameFor(model => model.TransactionType.Type)*@
            </th>
            @*<th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>*@
            <th>
                Description
                @*@Html.DisplayNameFor(model => model.Description)*@
            </th>
            <th>
                Amount
                @*@Html.DisplayNameFor(model => model.Amount)*@
            </th>
            @*<th>
                    @Html.DisplayNameFor(model => model.ReconciledStatus)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ReconciledAmount)
                </th>*@
            @*<th>
                Reconciliation Date
                @Html.DisplayNameFor(model => model.ReconciliationDate)
            </th>*@
            @*<th>
                    @Html.DisplayNameFor(model => model.Void)
                </th>*@
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Transactions)
            {
            <tr>
                @if (item.Void == true)
                {

                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">
                        @Html.DisplayFor(modelItem => item.PostedDate)
                    </td>
                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">

                        @Html.DisplayFor(modelItem => item.TransactionDate)
                    </td>
                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">

                        @Html.DisplayFor(modelItem => item.Accounts.Name)
                    </td>
                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">

                        @Html.DisplayFor(modelItem => item.Author.FirstName)
                    </td>
                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">
                        @Html.DisplayFor(modelItem => item.Category.Name)
                    </td>
                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">
                        @Html.DisplayFor(modelItem => item.TransactionType.Type)
                    </td>
                    @*<td style="text-decoration:line-through; font-style:italic; color:dimgray;">
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>*@
                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td style="text-decoration:line-through; font-style:italic; color:dimgray;">
                        @Html.DisplayFor(modelItem => item.Amount)
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.ReconciledStatus)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ReconciledAmount)
                        </td>*@
                    @*<td style="text-decoration:line-through; font-style:italic; color:dimgray;">
                            @Html.DisplayFor(modelItem => item.ReconciliationDate)
                        </td>*@
                    @*<td>
                            @Html.DisplayFor(modelItem => item.Void)
                        </td>*@
                }
                else
                {
                    <td>
                        @Html.DisplayFor(modelItem => item.PostedDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TransactionDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Accounts.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Author.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Category.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TransactionType.Type)
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>*@
                    <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Amount)
                    </td>
                    @*<td>
                            @Html.DisplayFor(modelItem => item.ReconciledStatus)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ReconciledAmount)
                        </td>*@
                    @*<td>
                            @Html.DisplayFor(modelItem => item.ReconciliationDate)
                        </td>*@
                    @*<td>
                            @Html.DisplayFor(modelItem => item.Void)
                        </td>*@
                }

    @if (item.Void == true)
    {
                <td>
        <a href="@Url.Action("UnVoid", "Transactions", new { id = item.Id })"><i class="fa fa-reply" style="font-size:18px">VOID</i></a>
                </td>
    }
    else
    {
    <td style="display:inline-flex">
        <a href="@Url.Action("Edit", "Transactions", new { id = item.Id })"><i class="fa fa-pencil-square" style="font-size:18px"></i></a> |
        <a href="@Url.Action("Void", "Transactions", new { id = item.Id })"><i class="fa fa-ban" style="font-size:18px"></i></a> |
        <a href="@Url.Action("Delete", "Transactions", new { id = item.Id })"><i class="fa fa-trash" style="font-size:18px"></i></a>
    </td>
    }
            </tr>
    }
    </tbody>
</table>

@section scripts{
    <script src="~/Assets/vendor/datatables/datatables.min.js"></script>
    <script>
        $("#MyTable").DataTable();
    </script>

    <script src="~/Assets/scripts/luna.js"></script>

    <script>
        $(document).ready(function () {

            $('#tableExample1').DataTable({
                "dom": 't'
            });

            $('#tableExample2').DataTable({
                "dom": "<'row'<'col-sm-6'l><'col-sm-6'f>>t<'row'<'col-sm-6'i><'col-sm-6'p>>",
                "lengthMenu": [[6, 25, 50, -1], [6, 25, 50, "All"]],
                "iDisplayLength": 6,
            });

            $('#tableExample3').DataTable({
                dom: "<'row'<'col-sm-4'l><'col-sm-4 text-center'B><'col-sm-4'f>>tp",
                "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
                buttons: [
                    { extend: 'copy', className: 'btn-sm' },
                    { extend: 'csv', title: 'ExampleFile', className: 'btn-sm' },
                    { extend: 'pdf', title: 'ExampleFile', className: 'btn-sm' },
                    { extend: 'print', className: 'btn-sm' }
                ]
            });

        });
    </script>
}







